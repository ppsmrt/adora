<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Block A - Clients</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCrGIB_YK33p_2EPTpU-klZ_3xQ5TOPm4c",
      authDomain: "adora-ad.firebaseapp.com",
      databaseURL: "https://adora-ad-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "adora-ad",
      storageBucket: "adora-ad.firebasestorage.app",
      messagingSenderId: "550034277527",
      appId: "1:550034277527:web:966b16ce942a161e8955d2",
      measurementId: "G-QW5Y41EKLR"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Force Block A
    const block = "A";
    const floorsRef = ref(db, `blocks/${block}/floors`);

    onValue(floorsRef, (snapshot) => {
      const data = snapshot.val();
      const container = document.getElementById("clients");
      container.innerHTML = "";

      if (data) {
        // Sort floors numerically/alphabetically
        Object.keys(data).sort((a,b)=>a.localeCompare(b, undefined, {numeric:true})).forEach(floor => {
          const row = document.createElement("div");
          row.className = "flex items-center border-t border-gray-400 py-3";

          // Floor label
          const floorBox = document.createElement("div");
          floorBox.className = "w-24 text-center font-bold text-xl text-white";
          floorBox.textContent = floor;
          row.appendChild(floorBox);

          // Tenants (logos + names in straight line)
          const tenants = data[floor].tenants || {};
          const tenantsBox = document.createElement("div");
          tenantsBox.className = "flex flex-wrap gap-8 ml-6";

          Object.keys(tenants).forEach(tid => {
            const t = tenants[tid];
            const item = document.createElement("div");
            item.className = "flex items-center gap-2";

            if (t.logoUrl) {
              const logo = document.createElement("img");
              logo.src = t.logoUrl;
              logo.className = "h-8 w-auto";
              item.appendChild(logo);
            }

            const name = document.createElement("span");
            name.className = "text-lg text-white";
            name.textContent = t.name;
            item.appendChild(name);

            tenantsBox.appendChild(item);
          });

          row.appendChild(tenantsBox);
          container.appendChild(row);
        });
      }
    });
  </script>
</head>
<body class="bg-black min-h-screen text-white p-6">
  <!-- Header like in the image -->
  <div class="text-center mb-8">
    <h1 class="text-5xl font-extrabold tracking-wider">GLOBAL</h1>
    <h2 class="text-3xl">INFOSITY PARK CHENNAI</h2>
    <h3 class="text-2xl mt-3">BLOCK - A</h3>
  </div>

  <div id="clients" class="w-full border-b border-gray-400"></div>
</body>
</html>