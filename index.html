<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Global InfoCity Park Chennai</title>
<style>
body {
  margin:0;
  font-family:"Poppins",sans-serif;
  background:linear-gradient(135deg,#fff6e5,#ff9e42);
  min-height:100vh;
  overflow-x:hidden;
  color:#222;
  position:relative;
}
#particles-js {position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;}

/* Full page directory intro */
#directoryIntro {
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  background:rgba(255,255,255,0.9);
  z-index:5;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  overflow-y:auto;
  text-align:center;
}
.intro-floor {margin:20px 0; text-align:center;}
.intro-floor h2 {color:#ff6a00;font-size:28px;margin-bottom:20px;}
.intro-logos {display:flex;justify-content:center;gap:20px;flex-wrap:wrap;}
.intro-logos .company-item {opacity:0; display:flex; flex-direction:column; align-items:center; margin:6px 12px;}
.intro-logos .company-item img {height:60px;border-radius:10px;background:white;padding:6px;transition:transform 0.3s ease, box-shadow 0.3s ease;}
.intro-logos .company-item span {display:block;color:#ff6a00;font-weight:700;text-shadow:0 0 6px #ffd36e;margin-top:5px; opacity:0;}

/* Main Home Content */
#mainContent {display:none; position:relative; z-index:2; text-align:center; padding-bottom:40px;}
.heading {
  font-size:36px;
  font-weight:800;
  color:#ff6a00;
  text-transform:uppercase;
  letter-spacing:2px;
  margin:20px 0;
  background:linear-gradient(90deg,#ff6a00,#ffd36e);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:glowText 2s ease-in-out infinite alternate;
}
.title {display:flex;justify-content:space-between; padding:10px 14px; border-top:3px solid #ff6a00; border-bottom:3px solid #ff6a00; font-weight:bold; font-style:italic; font-size:22px; text-transform:uppercase; margin-bottom:10px;}
.title span {text-decoration:underline;color:#ff6a00;}
table {width:100%; border-collapse:collapse; margin-top:10px;}
td.floor {font-weight:bold;font-size:20px;width:70px;color:#ff6a00;}
td.company {display:flex;justify-content:center;gap:20px;flex-wrap:wrap; min-height:60px;align-items:center;}
.company-item {display:flex;flex-direction:column;align-items:center;margin:6px 12px;opacity:0; transition:transform 0.3s ease; cursor:pointer;}
.company-item img {max-height:60px;max-width:140px;margin-bottom:10px;border-radius:12px;background:white;padding:6px;transition:transform 0.3s ease, box-shadow 0.3s ease;}
.company-item img:hover {transform:scale(1.1); box-shadow:0 6px 16px rgba(0,0,0,0.35);}
.company-item span {font-size:16px;font-weight:600;color:#ff6a00;text-shadow:0 0 8px #ffd36e;letter-spacing:0.5px;}

@keyframes fadeInLeft {0%{opacity:0;transform:translateX(-50px);}100%{opacity:1;transform:translateX(0);}}
@keyframes fadeInRight {0%{opacity:0;transform:translateX(50px);}100%{opacity:1;transform:translateX(0);}}
@keyframes fadeInUp {0%{opacity:0;transform:translateY(20px);}100%{opacity:1;transform:translateY(0);}}
@keyframes glowText {0%{text-shadow:0 0 8px #ff6a00,0 0 16px #ffd36e;}100%{text-shadow:0 0 16px #ff6a00,0 0 32px #ffd36e;}}
</style>
</head>
<body>
<div id="particles-js"></div>

<!-- Full Page Intro Directory -->
<div id="directoryIntro"></div>

<!-- Main Content -->
<div id="mainContent" class="container">
  <div class="heading">Tenant Directory</div>
  <div class="title"><span>FLOOR</span><span>BLOCK-A</span></div>
  <table id="directory"><tbody id="floors"></tbody></table>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCrGIB_YK33p_2EPTpU-klZ_3xQ5TOPm4c",
  authDomain: "adora-ad.firebaseapp.com",
  databaseURL: "https://adora-ad-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "adora-ad",
  storageBucket: "adora-ad.firebasestorage.app",
  messagingSenderId: "550034277527",
  appId: "1:550034277527:web:966b16ce942a161e8955d2",
  measurementId: "G-QW5Y41EKLR"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const floorsRef = ref(db,"blocks/A/floors");

const directoryIntro = document.getElementById("directoryIntro");
const floorsContainer = document.getElementById("floors");

// Floor-by-floor intro with alternating animation
onValue(floorsRef,(snapshot)=>{
  const data = snapshot.val();
  const floorKeys = Object.keys(data);
  let currentIndex=0;

  function showNextFloor(){
    directoryIntro.innerHTML="";
    if(currentIndex<floorKeys.length){
      const floor=data[floorKeys[currentIndex]].tenants;
      const floorDiv=document.createElement("div");
      floorDiv.className="intro-floor";

      const floorTitle=document.createElement("h2");
      floorTitle.textContent=`Floor ${floorKeys[currentIndex]}`;
      floorDiv.appendChild(floorTitle);

      const logosDiv=document.createElement("div");
      logosDiv.className="intro-logos";

      const direction=(currentIndex%2===0)?"fadeInLeft":"fadeInRight";

      if(floor && Object.keys(floor).length>0){
        Object.keys(floor).forEach((key,idx)=>{
          const tenant=floor[key];
          const container=document.createElement("div");
          container.className="company-item";
          container.style.animation=`${direction} 1s ease ${idx*0.2}s forwards`;
          const img=document.createElement("img"); img.src=tenant.logo;
          container.appendChild(img);
          const span=document.createElement("span"); span.textContent=tenant.name;
          span.style.animation=`fadeInUp 0.8s ease ${idx*0.25+0.5}s forwards`;
          container.appendChild(span);
          logosDiv.appendChild(container);
        });
      } else {
        const span=document.createElement("span"); span.textContent="No tenants"; span.style.color="#ff6a00";
        logosDiv.appendChild(span);
      }

      floorDiv.appendChild(logosDiv);
      directoryIntro.appendChild(floorDiv);
      currentIndex++;
      setTimeout(showNextFloor,5000);
    } else {
      // After all floors, show full directory
      directoryIntro.style.display="none";
      document.getElementById("mainContent").style.display="block";

      floorsContainer.innerHTML="";
      floorKeys.forEach(floorKey=>{
        const tenantsObj=data[floorKey].tenants;
        let row=`<tr><td class="floor">${floorKey}</td><td class="company">`;
        if(tenantsObj && Object.keys(tenantsObj).length>0){
          Object.keys(tenantsObj).forEach((key,idx)=>{
            const tenant=tenantsObj[key];
            row+=`<div class="company-item" style="animation:fadeInUp 1s ease ${idx*0.3}s forwards;"><img src="${tenant.logo}" alt="${tenant.name}"/><span>${tenant.name}</span></div>`;
          });
        } else {
          row+=`<span style="color:#ff6a00; font-weight:600;">No tenants</span>`;
        }
        row+=`</td></tr>`;
        floorsContainer.innerHTML+=row;
      });
    }
  }

  showNextFloor();
});
</script>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
particlesJS("particles-js",{
  "particles":{
    "number":{"value":60},
    "size":{"value":3},
    "move":{"speed":2},
    "line_linked":{"enable":true,"color":"#ff6a00"},
    "color":{"value":"#ff6a00"}
  }
});
</script>
</body>
</html>