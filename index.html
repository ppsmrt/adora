<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Global InfoCity Park Chennai - Block A</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
    }
    .container { width: 100%; max-width: 480px; }
    .logo img { width: 100%; height: auto; }
    .title {
      display: flex; justify-content: space-between;
      padding: 10px 14px;
      border-top: 2px solid white;
      border-bottom: 2px solid white;
      font-weight: bold; font-style: italic; font-size: 20px;
    }
    .title span { text-decoration: underline; }
    table { width: 100%; border-collapse: collapse; }
    tr { border-top: 1px solid rgba(255,255,255,0.4); }
    td { padding: 12px; text-align: center; }
    td.floor { font-weight: bold; font-size: 18px; width: 60px; color: #ddd; }
    td.company { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
    .company-item { display: flex; flex-direction: column; align-items: center; font-size: 14px; margin: 4px 10px; }
    .company-item img { max-height: 40px; max-width: 120px; margin-bottom: 6px; filter: brightness(120%); }
    .company-item span { font-size: 12px; color: #ccc; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Top Logo -->
    <div class="logo">
      <img src="https://i.ibb.co/MxMnGFvY/20250911-222515.jpg" alt="Global InfoCity Park Chennai Logo" />
    </div>

    <!-- Header -->
    <div class="title">
      <span>FLOOR</span>
      <span>BLOCK-A</span>
    </div>

    <!-- Directory Table -->
    <table id="directory">
      <tbody id="floors"></tbody>
    </table>
  </div>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    // Your Firebase Config (Block A)
    const firebaseConfig = {
      apiKey: "AIzaSyCrGIB_YK33p_2EPTpU-klZ_3xQ5TOPm4c",
      authDomain: "adora-ad.firebaseapp.com",
      databaseURL: "https://adora-ad-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "adora-ad",
      storageBucket: "adora-ad.firebasestorage.app",
      messagingSenderId: "550034277527",
      appId: "1:550034277527:web:966b16ce942a161e8955d2",
      measurementId: "G-QW5Y41EKLR"
    };

    // Init Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Reference Block A floors
    const floorsRef = ref(db, "blocks/A/floors");

    const floorsContainer = document.getElementById("floors");

    // Listen for changes
    onValue(floorsRef, (snapshot) => {
      const data = snapshot.val();
      floorsContainer.innerHTML = ""; // clear

      for (const floor in data) {
        const tenants = data[floor];

        let row = `<tr>
          <td class="floor">${floor}</td>
          <td class="company">`;

        tenants.forEach(tenant => {
          row += `
            <div class="company-item">
              <img src="${tenant.logo}" alt="${tenant.name}"/>
              <span>${tenant.name}</span>
            </div>
          `;
        });

        row += `</td></tr>`;
        floorsContainer.innerHTML += row;
      }
    });
  </script>
</body>
</html>